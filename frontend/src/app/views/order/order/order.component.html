<section class="order">
    <div class="container">
        <div class="order-title">Оформление заказа</div>

        <div class="order-info">
            <div class="order-form" [formGroup]="orderForm">

                <div class="order-form-block">
                    <div class="order-form-label">Выберите способ доставки</div>
                    <div class="order-form-types">
                        <div class="order-form-type-item" [class.active]="deliveryType === deliveryTypes.delivery" (click)="changeDeliveryType(deliveryTypes.delivery)">Курьером</div>
                        <div class="order-form-type-item" [class.active]="deliveryType === deliveryTypes.self" (click)="changeDeliveryType(deliveryTypes.self)">Самовывоз</div>
                    </div>
                </div>

                <div class="order-form-block">
                    <div class="order-form-label">Заполните личные данные</div>
                    <div class="order-form-inputs personal-data-inputs">
                        <input class="input" type="text" placeholder="Фамилия" formControlName="lastName"
                            [ngStyle]="{'border-color': lastName?.invalid && (lastName?.dirty || lastName?.touched) ? 'red' : ''}">
                        <input class="input" type="text" placeholder="Имя" formControlName="firstName"
                            [ngStyle]="{'border-color': firstName?.invalid && (firstName?.dirty || firstName?.touched) ? 'red' : ''}">
                        <input class="input" type="text" placeholder="Отчество" formControlName="fatherName"
                            [ngStyle]="{'border-color': fatherName?.invalid && (fatherName?.dirty || fatherName?.touched) ? 'red' : ''}">
                        <input class="input" type="text" placeholder="Телефон" formControlName="phone"
                            [ngStyle]="{'border-color': phone?.invalid && (phone?.dirty || phone?.touched) ? 'red' : ''}">
                        <input class="input" type="text" placeholder="E-mail" formControlName="email"
                            [ngStyle]="{'border-color': email?.invalid && (email?.dirty || email?.touched) ? 'red' : ''}">
                    </div>
                </div>

                <div class="order-form-block" *ngIf="deliveryType === deliveryTypes.delivery">
                    <div class="order-form-label">Заполните адрес доставки</div>
                    <div class="order-form-inputs address-inputs">
                        <input class="input street" type="text" placeholder="Улица" formControlName="street"
                            [ngStyle]="{'border-color': street?.invalid && (street?.dirty || street?.touched) ? 'red' : ''}">
                        <input class="input house" type="text" placeholder="№ дома" formControlName="house"
                            [ngStyle]="{'border-color': house?.invalid && (house?.dirty || house?.touched) ? 'red' : ''}">
                        <input class="input entrance" type="text" placeholder="Подъезд" formControlName="entrance"
                            [ngStyle]="{'border-color': entrance?.invalid && (entrance?.dirty || entrance?.touched) ? 'red' : ''}">
                        <input class="input apartment" type="text" placeholder="№ квартиры" formControlName="apartment"
                            [ngStyle]="{'border-color': apartment?.invalid && (apartment?.dirty || apartment?.touched) ? 'red' : ''}">
                    </div>
                </div>

                <div class="order-form-block">
                    <div class="order-form-label">Выберите способ оплаты</div>
                    <div class="order-form-radio">
                        <div class="order-form-radio-block">
                            <input type="radio" id="card" value="{{paymentTypes.cardOnline}}" formControlName="paymentType">
                            <label for="card">Оплата банковской картой в интернет-магазине</label>
                        </div>
                        <div class="order-form-radio-block">
                            <input type="radio" id="cash-less" value="{{paymentTypes.cardToCourier}}" formControlName="paymentType">
                            <label for="cash-less">Безналичный расчет при получении</label>
                        </div>
                        <div class="order-form-radio-block">
                            <input type="radio" id="cash" value="{{paymentTypes.cashToCourier}}" formControlName="paymentType">
                            <label for="cash">Наличный расчет при получении</label>
                        </div>
                    </div>
                </div>

                <div class="order-form-block">
                    <div class="order-form-label">Комментарий к заказу (необязательно)</div>
                    <div class="order-form-inputs">
                        <textarea cols="30" rows="5" class="input" placeholder="Оставьте свой комментарий..." formControlName="comment"></textarea>
                    </div>
                </div>
            </div>

            <!---->

            <div class="order-details">
                <div class="order-details-info">
                    <div class="order-details-info-title">Ваш заказ</div>
                    <div class="order-details-info-item">
                        <div class="order-details-info-item-text">Товаров:</div>
                        <div class="order-details-info-item-data">{{totalCount}}</div>
                    </div>
                    <div class="order-details-info-item">
                        <div class="order-details-info-item-text">Общая стоимость:</div>
                        <div class="order-details-info-item-data">{{productsPrice}} BYN</div>
                    </div>
                    <div class="order-details-info-item">
                        <div class="order-details-info-item-text">Стоимость доставки:</div>
                        <div class="order-details-info-item-data">{{deliveryPrice}} BYN</div>
                    </div>
                    <div class="order-details-info-item">
                        <div class="order-details-info-item-text">Итоговая стоимость:</div>
                        <div class="order-details-info-item-data">{{totalPrice}} BYN</div>
                    </div>
                </div>
                <button class="button" (click)="createOrder()">Подтвердить заказ</button>
            </div>
        </div>
    </div>
</section>
